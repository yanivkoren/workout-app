<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>אפליקציית אימונים — עריכת אימון</title>

  <!-- Bootstrap CSS (RTL) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet" crossorigin="anonymous">

  <!-- Axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- Supabase config (מגדיר SUPABASE_URL, ANON_KEY, http) -->
  <script src="config.js"></script>

  <!-- פונקציות עזר כלליות (clearLog, showError) -->
  <script src="common.js"></script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</head>
<body class="container py-4">

  <header class="mb-4 d-flex align-items-center justify-content-between">
    <a href="main.html" class="btn btn-link">&larr; חזרה למסך פתיחה</a>
    <h1 class="h3 mb-0">עריכת אימון</h1>
    <div></div>
  </header>

  <!-- כותרת אימון -->
  <section class="mb-4">
    <div class="row g-3 align-items-end">
      <div class="col-sm-6 col-md-4">
        <label for="wName" class="form-label">שם אימון</label>
        <input type="text" id="wName" class="form-control" />
      </div>

      <div class="col-sm-6 col-md-3">
        <label for="wType" class="form-label">סוג אימון</label>
        <select id="wType" class="form-select">
          <option>אימון אירובי</option>
          <option>אימון כח</option>
          <option>אימון ליבה</option>
          <option>אימון שיווי משקל</option>
          <option>אימון מתיחות</option>
        </select>
      </div>

      <div class="col-sm-6 col-md-3">
        <label for="wDate" class="form-label">תאריך אימון (לא חובה)</label>
        <input type="date" id="wDate" class="form-control" />
      </div>

      <div class="col-sm-6 col-md-2">
        <label for="wState" class="form-label">סטטוס</label>
        <select id="wState" class="form-select">
          <option value="מתוכנן">מתוכנן</option>
          <option value="בוצע">בוצע</option>
        </select>
      </div>
    </div>
    <div class="form-text mt-1">
      אם בוחרים “בוצע” ללא תאריך — ימולא אוטומטית תאריך של היום.
    </div>
  </section>

  <!-- פעולות -->
  <section class="mb-3 d-flex gap-2">
    <button id="saveBtn" class="btn btn-primary">שמור</button>
    <button id="deleteBtn" class="btn btn-danger">מחק אימון</button>
    <button id="cancelBtn" class="btn btn-secondary">בטל</button>
    <button id="reorderBtn" class="btn btn-outline-dark ms-auto">סידור תרגילים</button>
    <button id="pasteBtn" class="btn btn-outline-dark">הדבקת תרגילים</button>
  </section>

  <!-- טבלת תרגילים -->
  <section>
    <div class="d-flex align-items-center justify-content-between mb-2">
      <h2 class="h5 m-0">תרגילים באימון</h2>
      <button id="addRowBtn" class="btn btn-sm btn-success">הוסף שורה</button>
    </div>

    <div class="table-responsive">
      <table id="exTable" class="table table-bordered align-middle">
        <thead class="table-light">
          <tr>
            <th rowspan="2" style="min-width:70px; vertical-align: middle;">מזהה</th>
            <th style="min-width:160px;">שם תרגיל (עברית)</th>
            <th style="min-width:160px;">שם תרגיל (אנגלית)</th>
            <th style="min-width:140px;">אזור גוף</th>
            <th style="min-width:140px;">חזרות/עומס</th>
            <th style="min-width:220px;">קישור לגיף</th>
            <th style="min-width:90px;">מחיקה</th>
          </tr>
          <tr>
            <th colspan="2" style="min-width:220px;">תצוגת גיף</th>
            <th colspan="4" style="min-width:280px;">הנחיות ביצוע</th>
          </tr>
        </thead>
        <tbody id="exBody"><!-- שורות יוזנו דינמית --></tbody>
      </table>
    </div>

    <pre id="log" hidden class="text-danger mt-3"></pre>
  </section>

  <!-- הלוגיקה של המסך -->
  <script src="edit.js"></script>
</body>
</html>
